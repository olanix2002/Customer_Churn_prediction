<!DOCTYPE html>
<html>
<head>
	<title>Churn Prediction</title>
</head>
<body>
	<h1>Churn Prediction</h1>
	<form id="churn-prediction-form">
		<label for="CreditScore">Credit Score:</label>
		<input type="text" name="CreditScore"><br>

		<label for="Geography">Geography:</label>
		<select name="Geography">
			<option value="France">France</option>
			<option value="Spain">Spain</option>
			<option value="Germany">Germany</option>
		</select><br>

		<label for="Gender">Gender:</label>
		<select name="Gender">
			<option value="Male">Male</option>
			<option value="Female">Female</option>
		</select><br>

		<label for="Age">Age:</label>
		<input type="text" name="Age"><br>

		<label for="Tenure">Tenure:</label>
		<input type="text" name="Tenure"><br>

		<label for="Balance">Balance:</label>
		<input type="text" name="Balance"><br>

		<label for="NumOfProducts">Number of Products:</label>
		<input type="text" name="NumOfProducts"><br>

		<label for="HasCrCard">Has Credit Card:</label>
		<select name="HasCrCard">
			<option value="1">Yes</option>
			<option value="0">No</option>
		</select><br>

		<label for="IsActiveMember">Is Active Member:</label>
		<select name="IsActiveMember">
			<option value="1">Yes</option>
			<option value="0">No</option>
		</select><br>

		<label for="EstimatedSalary">Estimated Salary:</label>
		<input type="text" name="EstimatedSalary"><br>

		<button type="button" onclick="predict()">Predict</button>
	</form>

	<div id="prediction"></div>

	<script>
		function predict() {
			// Get the form data
			var form = document.getElementById("churn-prediction-form");
			var data = {
				"CreditScore": form.CreditScore.value,
				"Geography": form.Geography.value,
				"Gender": form.Gender.value,
				"Age": form.Age.value,
				"Tenure": form.Tenure.value,
				"Balance": form.Balance.value,
				"NumOfProducts": form.NumOfProducts.value,
				"HasCrCard": form.HasCrCard.value,
				"IsActiveMember": form.IsActiveMember.value,
				"EstimatedSalary": form.EstimatedSalary.value
			};

			// Send a POST request to the server
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "{{ url_for('predict') }}");
			xhr.setRequestHeader("Content-Type", "application/json");
			xhr.onreadystatechange = function() {
				if (xhr.readyState === 4 && xhr.status === 200) {
					// Show the prediction in the browser
var prediction = JSON.parse(xhr.responseText).prediction;
document.getElementById("prediction").innerHTML = "Churn Probability: " + prediction.toFixed(2);
}
};
xhr.send(JSON.stringify({data: data}));
}
</script>

</body>
</html>
